<html lang="en"><head><title>About Hox</title><meta name="viewport" content="width=device-width,initial-scale=1"><meta property="og:site_name" content="Hox Documentation"><meta name="og:description" content="Hox was inspired by the JS ecosystem, here&#39;s a short text explaining the motivation behind Hox."><meta property="og:title" content="About Hox"><meta property="og:type" content="website"><link href="/assets/styles.css" rel="stylesheet"><link href="/assets/links.css" rel="stylesheet"><base href="/"><script src="https://ga.jspm.io/npm:es-module-shims@1.6.2/dist/es-module-shims.js" async="" crossorigin="anonymouys"></script><script type="importmap">{
  "imports": {
    "hox": "/assets/script.js",
    "highlight.js": "https://ga.jspm.io/npm:highlight.js@11.7.0/es/index.js",
    "highlight.js/lib/core": "https://ga.jspm.io/npm:highlight.js@11.7.0/es/core.js",
    "highlight.js/lib/languages/fsharp": "https://ga.jspm.io/npm:highlight.js@11.7.0/es/languages/fsharp.js",
    "highlight.js/lib/languages/csharp": "https://ga.jspm.io/npm:highlight.js@11.7.0/es/languages/csharp.js",
    "highlight.js/lib/languages/vbnet": "https://ga.jspm.io/npm:highlight.js@11.7.0/es/languages/vbnet.js",
    "highlight.js/lib/languages/xml": "https://ga.jspm.io/npm:highlight.js@11.7.0/es/languages/xml.js",
     "highlight.js/lib/languages/plaintext": "https://ga.jspm.io/npm:highlight.js@11.7.0/es/languages/plaintext.js"
  }
}</script></head><body><nav><ul><li><a href="/">Home</a></li><li><a href="/about.html">About Hox</a></li><li><a href="/guides/general-usage.html">Documentation</a></li><li><a href="/reference/nodes.html">Reference</a></li></ul></nav><aside><ul><li><h4>Guide</h4><ul><li><a href="guides/general-usage.html">Usage</a></li><li><a href="guides/using-feliz.html">Using Feliz</a></li><li><a href="guides/declarative-shadow-dom.html">Declarative Shadow DOM</a></li><li><a href="guides/csharp-and-vb-usage.html">C# and VB.NET</a></li><li><a href="guides/write-your-own-dsl.html">Write Your Own DSL</a></li><li><a href="guides/render-other-dsls.html">Render Others With Hox</a></li></ul></li><li><h4>Reference</h4><ul><li><a href="reference/nodes.html">Nodes</a></li><li><a href="reference/rendering.html">Rendering</a></li></ul></li></ul></aside><main><template shadowrootmode="open"><link href="/assets/main.css" rel="stylesheet"><link href="/assets/links.css" rel="stylesheet"><link href="/assets/index.css" rel="stylesheet"><link href="/assets/highlight.css" rel="stylesheet"><p>This library was born out of the Javascript ecosystem where there are these concepts called &quot;islands&quot; in view libraries.</p>
<p>These islands are basically holes in your HTML where asynchronous components can perform work while the rest of the page is rendered synchronously, this of course requires scripting capabilities in the browser, because as soon as nodes start resolving, they are added to the DOM. In the server we don't have DOM, but we can still leverage the fact that we can place asynchronous work side-by-side with synchronous work.</p>
<p>In server environments, it improves the so called DX (developer experience) as you don't have to coordinate between asynchronous functions to render in a single final place while also improving user experience, as the page can be streamed to the client as soon as a rendered chunk is available, instead of waiting for the whole page to be rendered. Modern browsers support this out of the box.</p>
<p>The rendering process is also cancellable unlike previous approaches where you'd pass a token to each coordinated function to avoid overworking before having the data to render the document in a single pass.</p>
<p>In Hox, every asynchronous node node is backed by a <code>CancellableValueTask&lt;T&gt;</code> which is just an alias for <code>CancellationToken -&gt; ValueTask&lt;T&gt;</code>, this also means that every asynchronous node is aware of the main cancellation token, and when a rendering process is cancelled, rather than starting the asynchronous work, it will just return an empty node. The rest of the rendering process is stopped when processing the next node in the internal stack.</p>
<p>This also highlights the fact that Hox, more than a templating library is a rendering library, so you can build other kinds of templating/domain specific languages libraries on top of it, that's how we provide the Feliz API for example.</p>
<p>For cases where every node of the document is synchronous, the rendering process is backed by <code>ValueTask&lt;T&gt;</code> so synchronous work will be executed synchronously as usual.</p>
<p>In any case, this is a small library that hopes to push the web dev ecosystem in F# forward and spark some ideas in the community.</p>
<h2 id="special-thanks">Special Thanks</h2>
<ul>
<li><a href="https://github.com/TheAngryByrd/IcedTasks">IcedTasks</a> - For the cancellable async work semantics added to tasks and many other async builders.</li>
<li><a href="https://github.com/alfonsogarciacaro/Feliz.Engine">Feliz.Engine</a> - For the Feliz API which is beloved by many F# developers.</li>
<li><a href="https://github.com/fsprojects/FSharp.Control.TaskSeq">FSharp.Control.TaskSeq</a> - For allowing us to have <code>IAsyncEnumerable&lt;T&gt;</code> support.</li>
<li><a href="https://github.com/stephan-tolksdorf/fparsec">FParsec</a> - For the building blocks of the CSS selector parsing.</li>
</ul>
</template></main><footer><template shadowrootmode="open"><link href="/assets/footer.css" rel="stylesheet"><link href="/assets/links.css" rel="stylesheet"><p><a href="https://github.com/AngelMunoz/Hox">Hox</a> is an F# library for rendering HTML documents asynchronously.</p></template></footer><script>if (!HTMLTemplateElement.prototype.hasOwnProperty('shadowRootMode')) {
  (function attachShadowRoots(root) {
    root.querySelectorAll("template[shadowrootmode]").forEach(template => {
      const mode = template.getAttribute("shadowrootmode");
      const shadowRoot = template.parentNode.attachShadow({ mode });
      shadowRoot.appendChild(template.content);
      template.remove();
      attachShadowRoots(shadowRoot);
    });
  })(document);
}</script><script type="module">import { highlightAll } from 'hox';

    document.addEventListener('DOMContentLoaded', () => {
        highlightAll();
    });</script></body></html>